var RenderBuffer = require("./RenderBuffer.js") ;
var nodeshader = require("ocTemplate/lib/shaderfuncs/node.js") ;
var Class = require("ocClass") ;


module.exports = RenderBuffer.extend({

	ctor: function(){
		this._mapResource = {} ;
		this._super() ;
	}

	, putin: function(url,uiobject,context,model){

		if( this._mapResource[url] )
		{
			return ;
		}

		this._mapResource[url] = uiobject ;

		var mockctx = {} ;
		for(var key in context)
		{
			mockctx[key] = context[key]
		}
		mockctx.buff = this ;

		nodeshader.shader(uiobject,mockctx,model)
		this.write("\r\n") ;
	}

}) ;